# Java

## String

### string 类为什么将底层`char[]`改为`byte[]`?

- jdk9 引入 Graal 编译器，它使用了一种`紧凑字符串`的新表达形式，以`byte[]`存储字符串，节省了一些空间，并提高了性能
- char 需要先转为 byte，再转为 二进制(时间复杂度：比 byte 多了一步转换)
- char 根据编码格式不同，占用的字节数不同，而 byte 是固定的(时间复杂度：byte 是固定的，不会随着编码格式的不同而改变)

### string 为什么可以存储中文

JVM 底层是 UTF-16 编码，只要是 Unicode 编码，都可以存储

### string 内容的最大长度：

2^16-1=65535
